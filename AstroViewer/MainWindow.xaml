<Window x:Class="AstroViewer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AstroViewer"
        xmlns:helix="http://helix-toolkit.org/wpf"
        mc:Ignorable="d"
        Title="AstroViewer - 3D Stellar Cartography Viewer"
        Height="900" Width="1400"
        WindowState="Maximized">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Toolbar -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- File Selection -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Database File:"
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"
                               FontWeight="SemiBold"/>
                    <Button Name="BtnOpenFile"
                            Content="Open .AstroDB File..."
                            Click="BtnOpenFile_Click"
                            Padding="15,5"
                            Background="#34495E"
                            Foreground="White"
                            BorderBrush="#1ABC9C"
                            BorderThickness="1"
                            Cursor="Hand"/>
                    <TextBlock Name="TxtFileName"
                               Text="No file loaded"
                               Foreground="#BDC3C7"
                               VerticalAlignment="Center"
                               Margin="15,0,0,0"
                               FontStyle="Italic"/>
                </StackPanel>

                <!-- Controls -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <CheckBox Name="ChkShowLabels"
                              Content="Show System Names (within 25 ly)"
                              Foreground="White"
                              VerticalAlignment="Center"
                              Margin="0,0,20,0"
                              IsChecked="True"
                              Checked="ChkShowLabels_Changed"
                              Unchecked="ChkShowLabels_Changed"/>
                    <TextBlock Name="TxtStarCount"
                               Text="Stars: 0"
                               Foreground="#1ABC9C"
                               VerticalAlignment="Center"
                               FontWeight="Bold"
                               Margin="0,0,20,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 3D Viewport -->
        <Border Grid.Row="1" Background="Black" BorderBrush="#34495E" BorderThickness="1">
            <helix:HelixViewport3D Name="Viewport3D"
                                   Background="Black"
                                   ShowCoordinateSystem="True"
                                   CoordinateSystemLabelForeground="White"
                                   ShowViewCube="False"
                                   CameraRotationMode="Trackball"
                                   ZoomExtentsWhenLoaded="True">

                <!-- Camera Setup -->
                <helix:HelixViewport3D.Camera>
                    <PerspectiveCamera Position="0,0,50"
                                     LookDirection="0,0,-1"
                                     UpDirection="0,1,0"
                                     FieldOfView="60"/>
                </helix:HelixViewport3D.Camera>

                <!-- Default Lighting -->
                <helix:DefaultLights/>

                <!-- Model Group for Stars -->
                <ModelVisual3D>
                    <ModelVisual3D.Content>
                        <Model3DGroup x:Name="StarsModelGroup"/>
                    </ModelVisual3D.Content>
                </ModelVisual3D>

            </helix:HelixViewport3D>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#2C3E50" Padding="10,5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Name="TxtStatus"
                           Text="Ready"
                           Foreground="#BDC3C7"
                           VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock Text="Version 0.01 Build 1"
                               Foreground="#95A5A6"
                               VerticalAlignment="Center"
                               Margin="0,0,20,0"/>
                    <TextBlock Foreground="#7F8C8D" VerticalAlignment="Center">
                        <Run Text="Controls:"/>
                        <Run Text="Left Drag = Rotate" Foreground="White"/>
                        <Run Text=" | "/>
                        <Run Text="Mouse Wheel = Zoom" Foreground="White"/>
                        <Run Text=" | "/>
                        <Run Text="Middle Drag = Pan" Foreground="White"/>
                    </TextBlock>
                </StackPanel>
            </Grid>
        </Border>

    </Grid>
</Window>
